"use strict";(self.webpackChunkfoerderfunke_react_app=self.webpackChunkfoerderfunke_react_app||[]).push([[516],{44135:(t,e,a)=>{a.d(e,{diagram:()=>v});var r,n=a(89379),o=a(56256),c=a(44272),i=a(7186),l=a(17789),s=a(55502),d=l.UI.packet,p=(r=class{constructor(){this.packet=[],this.setAccTitle=l.SV,this.getAccTitle=l.iN,this.setDiagramTitle=l.ke,this.getDiagramTitle=l.ab,this.getAccDescription=l.m7,this.setAccDescription=l.EI}getConfig(){const t=(0,c.$t)((0,n.A)((0,n.A)({},d),(0,l.zj)().packet));return t.showBits&&(t.paddingY+=10),t}getPacket(){return this.packet}pushWord(t){t.length>0&&this.packet.push(t)}clear(){(0,l.IU)(),this.packet=[]}},(0,l.K2)(r,"PacketDB"),r),b=(0,l.K2)((t,e)=>{(0,o.S)(t,e);let a=-1,r=[],n=1;const{bitsPerRow:c}=e.getConfig();for(let{start:o,end:i,bits:s,label:d}of t.blocks){if(void 0!==o&&void 0!==i&&i<o)throw new Error("Packet block ".concat(o," - ").concat(i," is invalid. End must be greater than start."));if(null!==o&&void 0!==o||(o=a+1),o!==a+1)throw new Error("Packet block ".concat(o," - ").concat(null!==i&&void 0!==i?i:o," is not contiguous. It should start from ").concat(a+1,"."));if(0===s)throw new Error("Packet block ".concat(o," is invalid. Cannot have a zero bit field."));for(null!==i&&void 0!==i||(i=o+(null!==s&&void 0!==s?s:1)-1),null!==s&&void 0!==s||(s=i-o+1),a=i,l.Rm.debug("Packet block ".concat(o," - ").concat(a," with label ").concat(d));r.length<=c+1&&e.getPacket().length<1e4;){const[t,a]=h({start:o,end:i,bits:s,label:d},n,c);if(r.push(t),t.end+1===n*c&&(e.pushWord(r),r=[],n++),!a)break;({start:o,end:i,bits:s,label:d}=a)}}e.pushWord(r)},"populate"),h=(0,l.K2)((t,e,a)=>{if(void 0===t.start)throw new Error("start should have been set during first phase");if(void 0===t.end)throw new Error("end should have been set during first phase");if(t.start>t.end)throw new Error("Block start ".concat(t.start," is greater than block end ").concat(t.end,"."));if(t.end+1<=e*a)return[t,void 0];const r=e*a-1,n=e*a;return[{start:t.start,end:r,label:t.label,bits:r-t.start},{start:n,end:t.end,label:t.label,bits:t.end-n}]},"getNextFittingBlock"),k={parser:{yy:void 0},parse:(0,l.K2)(async t=>{var e;const a=await(0,s.qg)("packet",t),r=null===(e=k.parser)||void 0===e?void 0:e.yy;if(!(r instanceof p))throw new Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");l.Rm.debug(a),b(a,r)},"parse")},u=(0,l.K2)((t,e,a,r)=>{const n=r.db,o=n.getConfig(),{rowHeight:c,paddingY:s,bitWidth:d,bitsPerRow:p}=o,b=n.getPacket(),h=n.getDiagramTitle(),k=c+s,u=k*(b.length+1)-(h?0:c),g=d*p+2,w=(0,i.D)(e);w.attr("viewbox","0 0 ".concat(g," ").concat(u)),(0,l.a$)(w,u,g,o.useMaxWidth);for(const[i,l]of b.entries())f(w,l,i,o);w.append("text").text(h).attr("x",g/2).attr("y",u-k/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),f=(0,l.K2)((t,e,a,r)=>{let{rowHeight:n,paddingX:o,paddingY:c,bitWidth:i,bitsPerRow:l,showBits:s}=r;const d=t.append("g"),p=a*(n+c)+c;for(const b of e){const t=b.start%l*i+1,e=(b.end-b.start+1)*i-o;if(d.append("rect").attr("x",t).attr("y",p).attr("width",e).attr("height",n).attr("class","packetBlock"),d.append("text").attr("x",t+e/2).attr("y",p+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(b.label),!s)continue;const a=b.end===b.start,r=p-2;d.append("text").attr("x",t+(a?e/2:0)).attr("y",r).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",a?"middle":"start").text(b.start),a||d.append("text").attr("x",t+e).attr("y",r).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(b.end)}},"drawWord"),g={draw:u},w={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},m=(0,l.K2)(function(){let{packet:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=(0,c.$t)(w,t);return"\n\t.packetByte {\n\t\tfont-size: ".concat(e.byteFontSize,";\n\t}\n\t.packetByte.start {\n\t\tfill: ").concat(e.startByteColor,";\n\t}\n\t.packetByte.end {\n\t\tfill: ").concat(e.endByteColor,";\n\t}\n\t.packetLabel {\n\t\tfill: ").concat(e.labelColor,";\n\t\tfont-size: ").concat(e.labelFontSize,";\n\t}\n\t.packetTitle {\n\t\tfill: ").concat(e.titleColor,";\n\t\tfont-size: ").concat(e.titleFontSize,";\n\t}\n\t.packetBlock {\n\t\tstroke: ").concat(e.blockStrokeColor,";\n\t\tstroke-width: ").concat(e.blockStrokeWidth,";\n\t\tfill: ").concat(e.blockFillColor,";\n\t}\n\t")},"styles"),v={parser:k,get db(){return new p},renderer:g,styles:m}},56256:(t,e,a)=>{function r(t,e){var a,r,n;t.accDescr&&(null===(a=e.setAccDescription)||void 0===a||a.call(e,t.accDescr));t.accTitle&&(null===(r=e.setAccTitle)||void 0===r||r.call(e,t.accTitle));t.title&&(null===(n=e.setDiagramTitle)||void 0===n||n.call(e,t.title))}a.d(e,{S:()=>r}),(0,a(17789).K2)(r,"populateCommonDb")}}]);
//# sourceMappingURL=516.0e676370.chunk.js.map