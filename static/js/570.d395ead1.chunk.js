"use strict";(self.webpackChunkfoerderfunke_react_app=self.webpackChunkfoerderfunke_react_app||[]).push([[570],{7274:(t,e,a)=>{function r(t,e){var a,r,n;t.accDescr&&(null===(a=e.setAccDescription)||void 0===a||a.call(e,t.accDescr));t.accTitle&&(null===(r=e.setAccTitle)||void 0===r||r.call(e,t.accTitle));t.title&&(null===(n=e.setDiagramTitle)||void 0===n||n.call(e,t.title))}a.d(e,{S:()=>r}),(0,a(32748).K2)(r,"populateCommonDb")},54570:(t,e,a)=>{a.d(e,{diagram:()=>y});var r,n=a(89379),o=a(65099),c=a(7274),i=a(88887),l=a(19263),s=a(32748),d=a(55502),p=l.UI.packet,b=(r=class{constructor(){this.packet=[],this.setAccTitle=l.SV,this.getAccTitle=l.iN,this.setDiagramTitle=l.ke,this.getDiagramTitle=l.ab,this.getAccDescription=l.m7,this.setAccDescription=l.EI}getConfig(){const t=(0,i.$t)((0,n.A)((0,n.A)({},p),(0,l.zj)().packet));return t.showBits&&(t.paddingY+=10),t}getPacket(){return this.packet}pushWord(t){t.length>0&&this.packet.push(t)}clear(){(0,l.IU)(),this.packet=[]}},(0,s.K2)(r,"PacketDB"),r),h=(0,s.K2)((t,e)=>{(0,c.S)(t,e);let a=-1,r=[],n=1;const{bitsPerRow:o}=e.getConfig();for(let{start:c,end:i,bits:l,label:d}of t.blocks){if(void 0!==c&&void 0!==i&&i<c)throw new Error("Packet block ".concat(c," - ").concat(i," is invalid. End must be greater than start."));if(null!==c&&void 0!==c||(c=a+1),c!==a+1)throw new Error("Packet block ".concat(c," - ").concat(null!==i&&void 0!==i?i:c," is not contiguous. It should start from ").concat(a+1,"."));if(0===l)throw new Error("Packet block ".concat(c," is invalid. Cannot have a zero bit field."));for(null!==i&&void 0!==i||(i=c+(null!==l&&void 0!==l?l:1)-1),null!==l&&void 0!==l||(l=i-c+1),a=i,s.Rm.debug("Packet block ".concat(c," - ").concat(a," with label ").concat(d));r.length<=o+1&&e.getPacket().length<1e4;){const[t,a]=k({start:c,end:i,bits:l,label:d},n,o);if(r.push(t),t.end+1===n*o&&(e.pushWord(r),r=[],n++),!a)break;({start:c,end:i,bits:l,label:d}=a)}}e.pushWord(r)},"populate"),k=(0,s.K2)((t,e,a)=>{if(void 0===t.start)throw new Error("start should have been set during first phase");if(void 0===t.end)throw new Error("end should have been set during first phase");if(t.start>t.end)throw new Error("Block start ".concat(t.start," is greater than block end ").concat(t.end,"."));if(t.end+1<=e*a)return[t,void 0];const r=e*a-1,n=e*a;return[{start:t.start,end:r,label:t.label,bits:r-t.start},{start:n,end:t.end,label:t.label,bits:t.end-n}]},"getNextFittingBlock"),u={parser:{yy:void 0},parse:(0,s.K2)(async t=>{var e;const a=await(0,d.qg)("packet",t),r=null===(e=u.parser)||void 0===e?void 0:e.yy;if(!(r instanceof b))throw new Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");s.Rm.debug(a),h(a,r)},"parse")},f=(0,s.K2)((t,e,a,r)=>{const n=r.db,c=n.getConfig(),{rowHeight:i,paddingY:s,bitWidth:d,bitsPerRow:p}=c,b=n.getPacket(),h=n.getDiagramTitle(),k=i+s,u=k*(b.length+1)-(h?0:i),f=d*p+2,w=(0,o.D)(e);w.attr("viewbox","0 0 ".concat(f," ").concat(u)),(0,l.a$)(w,u,f,c.useMaxWidth);for(const[o,l]of b.entries())g(w,l,o,c);w.append("text").text(h).attr("x",f/2).attr("y",u-k/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),g=(0,s.K2)((t,e,a,r)=>{let{rowHeight:n,paddingX:o,paddingY:c,bitWidth:i,bitsPerRow:l,showBits:s}=r;const d=t.append("g"),p=a*(n+c)+c;for(const b of e){const t=b.start%l*i+1,e=(b.end-b.start+1)*i-o;if(d.append("rect").attr("x",t).attr("y",p).attr("width",e).attr("height",n).attr("class","packetBlock"),d.append("text").attr("x",t+e/2).attr("y",p+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(b.label),!s)continue;const a=b.end===b.start,r=p-2;d.append("text").attr("x",t+(a?e/2:0)).attr("y",r).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",a?"middle":"start").text(b.start),a||d.append("text").attr("x",t+e).attr("y",r).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(b.end)}},"drawWord"),w={draw:f},m={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},v=(0,s.K2)(function(){let{packet:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=(0,i.$t)(m,t);return"\n\t.packetByte {\n\t\tfont-size: ".concat(e.byteFontSize,";\n\t}\n\t.packetByte.start {\n\t\tfill: ").concat(e.startByteColor,";\n\t}\n\t.packetByte.end {\n\t\tfill: ").concat(e.endByteColor,";\n\t}\n\t.packetLabel {\n\t\tfill: ").concat(e.labelColor,";\n\t\tfont-size: ").concat(e.labelFontSize,";\n\t}\n\t.packetTitle {\n\t\tfill: ").concat(e.titleColor,";\n\t\tfont-size: ").concat(e.titleFontSize,";\n\t}\n\t.packetBlock {\n\t\tstroke: ").concat(e.blockStrokeColor,";\n\t\tstroke-width: ").concat(e.blockStrokeWidth,";\n\t\tfill: ").concat(e.blockFillColor,";\n\t}\n\t")},"styles"),y={parser:u,get db(){return new b},renderer:w,styles:v}}}]);
//# sourceMappingURL=570.d395ead1.chunk.js.map